!function(t,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.cyannotationCx2js=o():t.cyannotationCx2js=o()}(window,function(){return function(t){var o={};function e(a){if(o[a])return o[a].exports;var n=o[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=t,e.c=o,e.d=function(t,o,a){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var n in t)e.d(a,n,function(o){return t[o]}.bind(null,n));return a},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="",e(e.s=0)}([function(t,o,e){"use strict";var a=e(1).CxToCyCanvas;t.exports={CxToCyCanvas:a}},function(t,o,e){"use strict";var a=function(){function t(t,o){for(var e=0;e<o.length;e++){var a=o[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(o,e,a){return e&&t(o.prototype,e),a&&t(o,a),o}}();var n=function(){function t(o){!function(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}(this,t);var e=this;e.cx2js=o,this._findIntersection=function(t,o,e,a){var n=(a.y-e.y)*(o.x-t.x)-(a.x-e.x)*(o.y-t.y),r=((a.x-e.x)*(t.y-e.y)-(a.y-e.y)*(t.x-e.x))/n;return{x:this._epsilon(t.x+r*(o.x-t.x)),y:this._epsilon(t.y+r*(o.y-t.y))}},this._epsilon=function(t){return Math.abs(t)<1e-10?0:t},this._circleX=function(t,o,e){var a=o/t;return e&&t%2==0?(8==t&&(a+=.5/t),this._epsilon(Math.cos(2*a*Math.PI))):this._epsilon(Math.cos(2*a*Math.PI-Math.PI/2))},this._circleY=function(t,o,e){var a=o/t;return e&&t%2==0?(8==t&&(a+=.5/t),this._epsilon(Math.sin(2*a*Math.PI))):this._epsilon(Math.sin(2*a*Math.PI-Math.PI/2))},this._regularPolygonShapeFunction=function(t,o,a){a.beginPath();for(var n=parseFloat(t.width)/2,r=parseFloat(t.height)/2,i=parseFloat(t.x)+n,l=parseFloat(t.y)+r,s=[],c=0;c<o;c++){var f=this._circleX(o,c,!0)*n+i,u=this._circleY(o,c,!0)*r+l;s.push({x:f,y:u})}a.moveTo(s[0].x,s[0].y);for(var h=1;h<o;h++)a.lineTo(s[h].x,s[h].y);if(a.closePath(),t.fillColor){var p=e._colorFromInt(t.fillColor,t.fillOpacity);a.fillStyle=p,a.fill()}a.stroke()},this._starShapeFunction=function(t,o,a){a.beginPath();for(var n=parseFloat(t.width)/2,r=parseFloat(t.height)/2,i=parseFloat(t.x)+n,l=parseFloat(t.y)+r,s=2*o,c=[],f=0;f<s;f++)c.push({});for(var u=0;u<o;u++){var h=this._circleX(o,u,!1)*n+i,p=this._circleY(o,u,!1)*r+l,v=this._circleX(o,(u+2)%o,!1)*n+i,y=this._circleY(o,(u+2)%o,!1)*r+l;c[2*u]={x:h,y:p},c[(2*u+4)%s]={x:v,y:y}}for(var F=0;F<s;F+=2){var m=F,d=(F+4)%s,x=(F+2)%s,g=(x+s-4)%s;c[(F+1)%s]=this._findIntersection(c[m],c[d],c[x],c[g])}a.moveTo(c[0].x,c[0].y);for(var C=1;C<s;C++)a.lineTo(c[C].x,c[C].y);if(a.closePath(),t.fillColor){var _=e._colorFromInt(t.fillColor,t.fillOpacity);a.fillStyle=_,a.fill()}a.stroke()},this._scaleCustomPoint=function(t,o,e,a){return a*(o+t)/(e-o)},this._quadraticCurveBoundingBox=function(t,o,e,a,n,r){var i,l,s,c,f,u,h,p;h=t,p=o,((s=(l=e-t)/(i=n-t))<0||s>1)&&(h=l*l/(2*l-i)+t),((u=(f=a-o)/(c=r-o))<0||u>1)&&(p=f*f/(2*f-c)+o);var v={};return v.left=Math.min(t,n,h),v.top=Math.min(o,r,p),v.right=Math.max(t,n,h),v.bottom=Math.max(o,r,p),v.width=v.right-v.left,v.height=v.bottom-v.top,v},this._evalBez=function(t,o,e,a,n){return t*(1-n)*(1-n)*(1-n)+3*o*n*(1-n)*(1-n)+3*e*n*n*(1-n)+a*n*n*n},this._bezierCurveBoundingBox=function(t,o,a,n,r,i,l,s){var c=3*l-9*r+9*a-3*t,f=6*t-12*a+6*r,u=3*a-3*t,h=f*f-4*c*u,p=t,v=t;if(l<p&&(p=l),l>v&&(v=l),h>=0){var y=(-f+Math.sqrt(h))/(2*c);if(y>0&&y<1){var F=e._evalBez(t,a,r,l,y);F<p&&(p=F),F>v&&(v=F)}var m=(-f-Math.sqrt(h))/(2*c);if(m>0&&m<1){var d=e._evalBez(t,a,r,l,m);d<p&&(p=d),d>v&&(v=d)}}var x=o,g=o;if(s<x&&(x=s),s>g&&(g=s),(h=(f=6*o-12*n+6*i)*f-4*(c=3*s-9*i+9*n-3*o)*(u=3*n-3*o))>=0){var C=(-f+Math.sqrt(h))/(2*c);if(C>0&&C<1){var _=e._evalBez(o,n,i,s,C);_<x&&(x=_),_>g&&(g=_)}var M=(-f-Math.sqrt(h))/(2*c);if(M>0&&M<1){var T=e._evalBez(o,n,i,s,M);T<x&&(x=T),T>g&&(g=T)}}var b={};return b.left=p,b.top=x,b.right=v,b.bottom=g,b.width=b.right-b.left,b.height=b.bottom-b.top,b},this._shapeFunctions={RECTANGLE:function(t,o){if(o.beginPath(),o.rect(t.x,t.y,t.width,t.height),o.closePath(),t.fillColor){var a=e._colorFromInt(t.fillColor,t.fillOpacity);o.fillStyle=a,o.fill()}o.stroke()},ROUNDEDRECTANGLE:function(t,o){var a=parseFloat(t.width),n=parseFloat(t.height),r=.1*a,i=parseFloat(t.x),l=parseFloat(t.y);if(o.beginPath(),o.moveTo(i+r,l),o.lineTo(i+a-r,l),o.quadraticCurveTo(i+a,l,i+a,l+r),o.lineTo(i+a,l+n-r),o.quadraticCurveTo(i+a,l+n,i+a-r,l+n),o.lineTo(i+r,l+n),o.quadraticCurveTo(i,l+n,i,l+n-r),o.lineTo(i,l+r),o.quadraticCurveTo(i,l,i+r,l),o.closePath(),t.fillColor){var s=e._colorFromInt(t.fillColor,t.fillOpacity);o.fillStyle=s,o.fill()}o.stroke()},ELLIPSE:function(t,o){var a=parseFloat(t.width)/2,n=parseFloat(t.height)/2,r=parseFloat(t.x)+a,i=parseFloat(t.y)+n;if(o.beginPath(),o.ellipse(r,i,a,n,0,0,2*Math.PI),o.closePath(),t.fillColor){var l=e._colorFromInt(t.fillColor,t.fillOpacity);o.fillStyle=l,o.fill()}o.stroke()},STAR5:function(t,o){e._starShapeFunction(t,5,o)},STAR6:function(t,o){e._starShapeFunction(t,6,o)},TRIANGLE:function(t,o){e._regularPolygonShapeFunction(t,3,o)},PENTAGON:function(t,o){e._regularPolygonShapeFunction(t,5,o)},HEXAGON:function(t,o){e._regularPolygonShapeFunction(t,6,o)},OCTAGON:function(t,o){e._regularPolygonShapeFunction(t,8,o)},PARALLELOGRAM:function(t,o){var a=parseFloat(t.x),n=parseFloat(t.y),r=a+parseFloat(t.width),i=n+parseFloat(t.height);if(o.beginPath(),o.moveTo(a,n),o.lineTo((2*r+a)/3,n),o.lineTo(r,i),o.lineTo((2*a+r)/3,i),o.closePath(),t.fillColor){var l=e._colorFromInt(t.fillColor,t.fillOpacity);o.fillStyle=l,o.fill()}},CUSTOM:function(t,o){var a=t.customShape;if(a){for(var n=parseFloat(t.x),r=parseFloat(t.y),i=parseFloat(t.width),l=parseFloat(t.height),s=a.split(" "),c=Number.MAX_VALUE,f=Number.MAX_VALUE,u=Number.MIN_VALUE,h=Number.MIN_VALUE,p=void 0,v=void 0,y=0;y<s.length;y++)if("M"==s[y]){var F=parseFloat(s[y+1]),m=parseFloat(s[y+2]);c=Math.min(c,F),f=Math.min(f,m),u=Math.max(u,F),h=Math.max(h,m),p=F,v=m,y+=2}else if("L"==s[y]){var d=parseFloat(s[y+1]),x=parseFloat(s[y+2]);c=Math.min(c,d),f=Math.min(f,x),u=Math.max(u,d),h=Math.max(h,x),p=d,v=x,y+=2}else if("Q"==s[y]){var g=parseFloat(s[y+1]),C=parseFloat(s[y+2]),_=parseFloat(s[y+3]),M=parseFloat(s[y+4]),T=e._quadraticCurveBoundingBox(p,v,g,C,_,M);c=Math.min(c,T.left),c=Math.min(c,T.right),f=Math.min(f,T.bottom),f=Math.min(f,T.top),u=Math.max(u,T.left),u=Math.max(u,T.right),h=Math.max(h,T.bottom),h=Math.max(h,T.top),p=_,v=M,y+=4}else if("C"==s[y]){var b=parseFloat(s[y+1]),A=parseFloat(s[y+2]),P=parseFloat(s[y+3]),S=parseFloat(s[y+4]),w=parseFloat(s[y+5]),I=parseFloat(s[y+6]),O=e._bezierCurveBoundingBox(p,v,b,A,P,S,w,I);c=Math.min(c,O.left),c=Math.min(c,O.right),f=Math.min(f,O.bottom),f=Math.min(f,O.top),u=Math.max(u,O.left),u=Math.max(u,O.right),h=Math.max(h,O.bottom),h=Math.max(h,O.top),p=w,v=I,y+=6}var E=i/(u-c),N=l/(h-f),z=n-E*c,k=r-N*f;o.beginPath();for(var B=0;B<s.length;B++)if("NZ"==s[B])o.closePath(),o.beginPath(),o.mozFillRule="nonzero";else if("EO"==s[B])o.closePath(),o.beginPath(),o.mozFillRule="evenodd";else if("M"==s[B]){var L=z+E*parseFloat(s[B+1]),j=k+N*parseFloat(s[B+2]);o.moveTo(L,j),B+=2}else if("L"==s[B]){var X=z+E*parseFloat(s[B+1]),q=k+N*parseFloat(s[B+2]);o.lineTo(X,q),B+=2}else if("Q"==s[B]){var R=z+E*parseFloat(s[B+1]),G=k+N*parseFloat(s[B+2]),U=z+E*parseFloat(s[B+3]),Y=k+N*parseFloat(s[B+4]);o.quadraticCurveTo(R,G,U,Y),B+=4}else if("C"==s[B]){var V=z+E*parseFloat(s[B+1]),K=k+N*parseFloat(s[B+2]),D=z+E*parseFloat(s[B+3]),J=k+N*parseFloat(s[B+4]),Q=z+E*parseFloat(s[B+5]),H=k+N*parseFloat(s[B+6]);o.bezierCurveTo(V,K,D,J,Q,H),B+=6}else s[B];if(o.closePath(),t.fillColor){var W=e._colorFromInt(t.fillColor,t.fillOpacity);o.fillStyle=W,o.fill()}o.stroke()}}},this._colorFromInt=function(t,o){return"rgb("+((16711680&(t>>>=0))>>>16)+","+((65280&t)>>>8)+","+(255&t)+","+parseFloat(o)/100+")"}}return a(t,[{key:"drawBackgroundFromNiceCX",value:function(t,o){var e=this.cx2js.cyBackgroundColorFromNiceCX(o);this.drawBackground(t,e)}},{key:"drawBackground",value:function(t,o){var e=t.cyCanvas({zIndex:-2}).getCanvas(),a=e.getContext("2d");t.on("render cyCanvas.resize",function(t){a.fillStyle=o,a.fillRect(0,0,e.width,e.height)})}},{key:"getAnnotationElementsFromNiceCX",value:function(t){return t.networkAttributes?t.networkAttributes.elements.filter(function(t){return"__Annotations"==t.n}):[]}},{key:"drawAnnotationsFromAnnotationElements",value:function(t,o){var e=this,a=this.cx2js,n=t.cyCanvas({zIndex:-1}),r=t.cyCanvas({zIndex:1}),i=n.getCanvas().getContext("2d"),l=r.getCanvas().getContext("2d");t.on("render cyCanvas.resize",function(t){var s=e._colorFromInt,c=e._shapeFunctions;n.resetTransform(i),n.clear(i),n.setTransform(i),i.save(),r.resetTransform(l),r.clear(l),r.setTransform(l),l.save();var f={},u=[],h=[];o.forEach(function(t){t.v.forEach(function(t){var o=t.split("|"),e={};o.forEach(function(t){var o=t.split("=");e[o[0]]=o[1]}),f[e.uuid]=e,"foreground"==e.canvas?u.push(e.uuid):h.push(e.uuid)})});var p=function(t,o){var e=f[t],a=f[o];return parseInt(a.z)-parseInt(e.z)};u.sort(p),h.sort(p),[{context:l,annotations:u},{context:i,annotations:h}].forEach(function(t){var o=t.context;t.annotations.forEach(function(t){var e,n,r,i=f[t];if("org.cytoscape.view.presentation.annotations.ShapeAnnotation"==i.type||"org.cytoscape.view.presentation.annotations.BoundedTextAnnotation"==i.type)o.lineWidth=i.edgeThickness,i.width=parseFloat(i.width)/parseFloat(i.zoom),i.height=parseFloat(i.height)/parseFloat(i.zoom),c[i.shapeType]?(o.strokeStyle=s(i.edgeColor,i.edgeOpacity),c[i.shapeType](i,o)):console.warn("Invalid shape type: "+i.shapeType);else if("org.cytoscape.view.presentation.annotations.ArrowAnnotation"==i.type&&i.targetAnnotation&&i.sourceAnnotation){f[i.sourceAnnotation],f[i.targetAnnotation];o.stroke()}if("org.cytoscape.view.presentation.annotations.TextAnnotation"==i.type?(e=i.text,o.textBaseline="top",o.textAlign="left",n=i.x,r=i.y):"org.cytoscape.view.presentation.annotations.BoundedTextAnnotation"==i.type&&(e=i.text,o.textBaseline="middle",o.textAlign="center",n=parseFloat(i.x)+i.width/2,r=parseFloat(i.y)+i.height/2),e&&n&&r){var l,u=parseFloat(i.fontSize)/parseFloat(i.zoom);if(i.fontFamily&&(l=a.JavaLogicalFontConstants.FONT_FAMILY_LIST.includes(i.fontFamily)?a.JavaLogicalFontConstants.FONT_STACK_MAP[i.fontFamily]:a.CommonOSFontConstants.FONT_STACK_MAP[i.fontFamily]?a.CommonOSFontConstants.FONT_STACK_MAP[i.fontFamily]:"sans-serif"),o.font=u+"px "+l,i.color){var h=s(i.color,"100");o.fillStyle=h}o.fillText(e.toString(),n,r)}})}),l.restore(),i.restore()})}},{key:"drawAnnotationsFromNiceCX",value:function(t,o){var e=this.getAnnotationElementsFromNiceCX(o);this.drawAnnotationsFromAnnotationElements(t,e)}}]),t}();t.exports={CxToCyCanvas:n}}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jeWFubm90YXRpb25DeDJqcy93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vY3lhbm5vdGF0aW9uQ3gyanMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vY3lhbm5vdGF0aW9uQ3gyanMvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY3lhbm5vdGF0aW9uQ3gyanMvLi9zcmMvY3hfdG9fY3lfY2FudmFzLmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJDeFRvQ3lDYW52YXMiLCJyZXF1aXJlIiwiY3gyanMiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwic2VsZiIsIl9maW5kSW50ZXJzZWN0aW9uIiwicDEiLCJwMiIsInAzIiwicDQiLCJkZW5vbWluYXRvciIsInVhIiwieCIsIl9lcHNpbG9uIiwieSIsInYiLCJNYXRoIiwiYWJzIiwiX2NpcmNsZVgiLCJzaWRlcyIsImFuZ2xlIiwicm90IiwiY29lZmYiLCJjb3MiLCJQSSIsIl9jaXJjbGVZIiwic2luIiwiX3JlZ3VsYXJQb2x5Z29uU2hhcGVGdW5jdGlvbiIsInNoYXBlTWFwIiwiY3R4IiwiYmVnaW5QYXRoIiwid2lkdGgiLCJwYXJzZUZsb2F0IiwiaGVpZ2h0IiwicG9pbnRzIiwieDEiLCJ5MSIsInB1c2giLCJtb3ZlVG8iLCJsaW5lVG8iLCJjbG9zZVBhdGgiLCJmaWxsQ29sb3IiLCJfY29sb3JGcm9tSW50IiwiZmlsbFN0eWxlIiwiZmlsbCIsInN0cm9rZSIsIl9zdGFyU2hhcGVGdW5jdGlvbiIsIm5Qb2ludHMiLCJ4MiIsInkyIiwiX3NjYWxlQ3VzdG9tUG9pbnQiLCJtaW4iLCJtYXgiLCJzY2FsZSIsIl9xdWFkcmF0aWNDdXJ2ZUJvdW5kaW5nQm94IiwieDMiLCJ5MyIsImJyeCIsImJ4IiwiYnJ5IiwiYnkiLCJweCIsInB5IiwiZXh0ZW50IiwibGVmdCIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwiX2V2YWxCZXoiLCJwMCIsIl9iZXppZXJDdXJ2ZUJvdW5kaW5nQm94IiwicHgwIiwicHkwIiwicHgxIiwicHkxIiwicHgyIiwicHkyIiwicHgzIiwicHkzIiwiYSIsImIiLCJkaXNjIiwieGwiLCJ4aCIsInQxIiwic3FydCIsInQyIiwieWwiLCJ5aCIsIl9zaGFwZUZ1bmN0aW9ucyIsIlJFQ1RBTkdMRSIsInJlY3QiLCJST1VOREVEUkVDVEFOR0xFIiwidGVudGhXaWR0aCIsInF1YWRyYXRpY0N1cnZlVG8iLCJFTExJUFNFIiwiaGFsZldpZHRoIiwiaGFsZkhlaWdodCIsImVsbGlwc2UiLCJTVEFSNSIsIlNUQVI2IiwiVFJJQU5HTEUiLCJQRU5UQUdPTiIsIkhFWEFHT04iLCJPQ1RBR09OIiwiUEFSQUxMRUxPR1JBTSIsInhNYXgiLCJ5TWF4IiwiQ1VTVE9NIiwiY3VzdG9tU2hhcGUiLCJzaGFwZUFyZ3MiLCJzcGxpdCIsIm1pblgiLCJOdW1iZXIiLCJNQVhfVkFMVUUiLCJtaW5ZIiwibWF4WCIsIk1JTl9WQUxVRSIsIm1heFkiLCJsYXN0WCIsImxhc3RZIiwibGVuZ3RoIiwibXgiLCJteSIsImx4IiwibHkiLCJxMSIsInEyIiwicTMiLCJxNCIsImMxIiwiYzIiLCJjMyIsImM0IiwiYzUiLCJjNiIsInNjYWxlWCIsInNjYWxlWSIsImJhc2VYIiwiYmFzZVkiLCJtb3pGaWxsUnVsZSIsImJlemllckN1cnZlVG8iLCJudW0iLCJhbHBoYSIsImN5dG9zY2FwZUluc3RhbmNlIiwibmljZUNYIiwiY3hCR0NvbG9yIiwiY3lCYWNrZ3JvdW5kQ29sb3JGcm9tTmljZUNYIiwiZHJhd0JhY2tncm91bmQiLCJiYWNrZ3JvdW5kQ2FudmFzIiwiY3lDYW52YXMiLCJ6SW5kZXgiLCJnZXRDYW52YXMiLCJiYWNrZ3JvdW5kQ3R4IiwiZ2V0Q29udGV4dCIsIm9uIiwiZXZ0IiwiZmlsbFJlY3QiLCJmaWx0ZXIiLCJlbGVtZW50IiwiYW5ub3RhdGlvbkVsZW1lbnRzIiwiX3RoaXMiLCJib3R0b21MYXllciIsInRvcExheWVyIiwiYm90dG9tQ3R4IiwidG9wQ3R4IiwiY29sb3JGcm9tSW50Iiwic2hhcGVGdW5jdGlvbnMiLCJyZXNldFRyYW5zZm9ybSIsImNsZWFyIiwic2V0VHJhbnNmb3JtIiwic2F2ZSIsImluZGV4ZWRBbm5vdGF0aW9ucyIsInRvcEFubm90YXRpb25zIiwiYm90dG9tQW5ub3RhdGlvbnMiLCJmb3JFYWNoIiwiYW5ub3RhdGlvbiIsImFubm90YXRpb25LVkxpc3QiLCJhbm5vdGF0aW9uTWFwIiwiYW5ub3RhdGlvbktWIiwia3ZQYWlyIiwiek9yZGVyQ29tcGFyZSIsImFubm90YXRpb25BIiwiYW5ub3RhdGlvbkIiLCJwYXJzZUludCIsInNvcnQiLCJjb250ZXh0IiwiYW5ub3RhdGlvbnMiLCJjb250ZXh0QW5ub3RhdGlvblBhaXIiLCJhbm5vdGF0aW9uVVVJRCIsInRleHQiLCJ0ZXh0WCIsInRleHRZIiwibGluZVdpZHRoIiwic3Ryb2tlU3R5bGUiLCJjb25zb2xlIiwid2FybiIsInRleHRCYXNlbGluZSIsInRleHRBbGlnbiIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsIkphdmFMb2dpY2FsRm9udENvbnN0YW50cyIsIkZPTlRfRkFNSUxZX0xJU1QiLCJpbmNsdWRlcyIsIkZPTlRfU1RBQ0tfTUFQIiwiQ29tbW9uT1NGb250Q29uc3RhbnRzIiwiZm9udCIsImZpbGxUZXh0IiwidG9TdHJpbmciLCJyZXN0b3JlIiwiZ2V0QW5ub3RhdGlvbkVsZW1lbnRzRnJvbU5pY2VDWCIsImRyYXdBbm5vdGF0aW9uc0Zyb21Bbm5vdGF0aW9uRWxlbWVudHMiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEVBQUFDLEdBQ0EsaUJBQUFDLFNBQUEsaUJBQUFDLE9BQ0FBLE9BQUFELFFBQUFELElBQ0EsbUJBQUFHLGVBQUFDLElBQ0FELE9BQUEsR0FBQUgsR0FDQSxpQkFBQUMsUUFDQUEsUUFBQSxrQkFBQUQsSUFFQUQsRUFBQSxrQkFBQUMsSUFSQSxDQVNDSyxPQUFBLFdBQ0QsbUJDVEEsSUFBQUMsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBUCxRQUdBLElBQUFDLEVBQUFJLEVBQUFFLEdBQUEsQ0FDQUMsRUFBQUQsRUFDQUUsR0FBQSxFQUNBVCxRQUFBLElBVUEsT0FOQVUsRUFBQUgsR0FBQUksS0FBQVYsRUFBQUQsUUFBQUMsSUFBQUQsUUFBQU0sR0FHQUwsRUFBQVEsR0FBQSxFQUdBUixFQUFBRCxRQTBEQSxPQXJEQU0sRUFBQU0sRUFBQUYsRUFHQUosRUFBQU8sRUFBQVIsRUFHQUMsRUFBQVEsRUFBQSxTQUFBZCxFQUFBZSxFQUFBQyxHQUNBVixFQUFBVyxFQUFBakIsRUFBQWUsSUFDQUcsT0FBQUMsZUFBQW5CLEVBQUFlLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNWLEVBQUFnQixFQUFBLFNBQUF0QixHQUNBLG9CQUFBdUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQW5CLEVBQUF1QixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBbkIsRUFBQSxjQUFpRHlCLE9BQUEsS0FRakRuQixFQUFBb0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQW5CLEVBQUFtQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYs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QUFtQmdCLFlBSWxFeE0sRUFBT0QsUUFBVSxDQUFFd0MiLCJmaWxlIjoiLi9idWlsZC9idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJjeWFubm90YXRpb25DeDJqc1wiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJjeWFubm90YXRpb25DeDJqc1wiXSA9IGZhY3RvcnkoKTtcbn0pKHdpbmRvdywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgQ3hUb0N5Q2FudmFzID0gcmVxdWlyZSgnLi9jeF90b19jeV9jYW52YXMuanMnKS5DeFRvQ3lDYW52YXM7XG5cbm1vZHVsZS5leHBvcnRzID0ge0N4VG9DeUNhbnZhc307XG4iLCJjbGFzcyBDeFRvQ3lDYW52YXMge1xuICBjb25zdHJ1Y3RvcihjeDJqcykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHNlbGYuY3gyanMgPSBjeDJqcztcblxuICAgIHRoaXMuX2ZpbmRJbnRlcnNlY3Rpb24gPSBmdW5jdGlvbiAocDEsIHAyLCBwMywgcDQpIHtcbiAgICAgIHZhciBkZW5vbWluYXRvciA9XG4gICAgICAgIChwNFtcInlcIl0gLSBwM1tcInlcIl0pICogKHAyW1wieFwiXSAtIHAxW1wieFwiXSkgLVxuICAgICAgICAocDRbXCJ4XCJdIC0gcDNbXCJ4XCJdKSAqIChwMltcInlcIl0gLSBwMVtcInlcIl0pO1xuXG4gICAgICB2YXIgdWEgPVxuICAgICAgICAoKHA0W1wieFwiXSAtIHAzW1wieFwiXSkgKiAocDFbXCJ5XCJdIC0gcDNbXCJ5XCJdKSAtXG4gICAgICAgICAgKHA0W1wieVwiXSAtIHAzW1wieVwiXSkgKiAocDFbXCJ4XCJdIC0gcDNbXCJ4XCJdKSkgL1xuICAgICAgICBkZW5vbWluYXRvcjtcblxuICAgICAgdmFyIHggPSB0aGlzLl9lcHNpbG9uKHAxW1wieFwiXSArIHVhICogKHAyW1wieFwiXSAtIHAxW1wieFwiXSkpO1xuICAgICAgdmFyIHkgPSB0aGlzLl9lcHNpbG9uKHAxW1wieVwiXSArIHVhICogKHAyW1wieVwiXSAtIHAxW1wieVwiXSkpO1xuICAgICAgcmV0dXJuIHsgeDogeCwgeTogeSB9O1xuICAgIH07XG5cbiAgICB0aGlzLl9lcHNpbG9uID0gZnVuY3Rpb24gKHYpIHtcbiAgICAgIGlmIChNYXRoLmFicyh2KSA8IDEuMGUtMTApIHJldHVybiAwLjA7XG4gICAgICByZXR1cm4gdjtcbiAgICB9O1xuXG4gICAgdGhpcy5fY2lyY2xlWCA9IGZ1bmN0aW9uIChzaWRlcywgYW5nbGUsIHJvdCkge1xuICAgICAgdmFyIGNvZWZmID0gYW5nbGUgLyBzaWRlcztcbiAgICAgIGlmIChyb3QgJiYgc2lkZXMgJSAyID09IDApIHtcbiAgICAgICAgaWYgKHNpZGVzID09IDgpIHtcbiAgICAgICAgICBjb2VmZiArPSAwLjUgLyBzaWRlcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZXBzaWxvbihNYXRoLmNvcygyICogY29lZmYgKiBNYXRoLlBJKSk7XG4gICAgICB9IGVsc2UgcmV0dXJuIHRoaXMuX2Vwc2lsb24oTWF0aC5jb3MoMiAqIGNvZWZmICogTWF0aC5QSSAtIE1hdGguUEkgLyAyKSk7XG4gICAgfTtcblxuICAgIHRoaXMuX2NpcmNsZVkgPSBmdW5jdGlvbiAoc2lkZXMsIGFuZ2xlLCByb3QpIHtcbiAgICAgIHZhciBjb2VmZiA9IGFuZ2xlIC8gc2lkZXM7XG4gICAgICBpZiAocm90ICYmIHNpZGVzICUgMiA9PSAwKSB7XG4gICAgICAgIGlmIChzaWRlcyA9PSA4KSB7XG4gICAgICAgICAgY29lZmYgKz0gMC41IC8gc2lkZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2Vwc2lsb24oTWF0aC5zaW4oMiAqIGNvZWZmICogTWF0aC5QSSkpO1xuICAgICAgfSBlbHNlIHJldHVybiB0aGlzLl9lcHNpbG9uKE1hdGguc2luKDIgKiBjb2VmZiAqIE1hdGguUEkgLSBNYXRoLlBJIC8gMikpO1xuICAgIH07XG5cbiAgICB0aGlzLl9yZWd1bGFyUG9seWdvblNoYXBlRnVuY3Rpb24gPSBmdW5jdGlvbiAoc2hhcGVNYXAsIHNpZGVzLCBjdHgpIHtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIHZhciB3aWR0aCA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJ3aWR0aFwiXSkgLyAyO1xuICAgICAgdmFyIGhlaWdodCA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJoZWlnaHRcIl0pIC8gMjtcblxuICAgICAgdmFyIHggPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wieFwiXSkgKyB3aWR0aDtcbiAgICAgIHZhciB5ID0gcGFyc2VGbG9hdChzaGFwZU1hcFtcInlcIl0pICsgaGVpZ2h0O1xuXG4gICAgICB2YXIgcG9pbnRzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpZGVzOyBpKyspIHtcbiAgICAgICAgbGV0IHgxID0gdGhpcy5fY2lyY2xlWChzaWRlcywgaSwgdHJ1ZSkgKiB3aWR0aCArIHg7XG4gICAgICAgIGxldCB5MSA9IHRoaXMuX2NpcmNsZVkoc2lkZXMsIGksIHRydWUpICogaGVpZ2h0ICsgeTtcbiAgICAgICAgcG9pbnRzLnB1c2goeyB4OiB4MSwgeTogeTEgfSk7XG4gICAgICB9XG4gICAgICAvLyBOb3csIGFkZCB0aGUgcG9pbnRzXG4gICAgICBjdHgubW92ZVRvKHBvaW50c1swXVtcInhcIl0sIHBvaW50c1swXVtcInlcIl0pO1xuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBzaWRlczsgaSsrKSB7XG4gICAgICAgIGN0eC5saW5lVG8ocG9pbnRzW2ldW1wieFwiXSwgcG9pbnRzW2ldW1wieVwiXSk7XG4gICAgICB9XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICBpZiAoc2hhcGVNYXBbXCJmaWxsQ29sb3JcIl0pIHtcbiAgICAgICAgbGV0IGZpbGxDb2xvciA9IHNlbGYuX2NvbG9yRnJvbUludChcbiAgICAgICAgICBzaGFwZU1hcFtcImZpbGxDb2xvclwiXSxcbiAgICAgICAgICBzaGFwZU1hcFtcImZpbGxPcGFjaXR5XCJdXG4gICAgICAgICk7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBmaWxsQ29sb3I7XG4gICAgICAgIGN0eC5maWxsKCk7XG4gICAgICB9XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfTtcblxuICAgIHRoaXMuX3N0YXJTaGFwZUZ1bmN0aW9uID0gZnVuY3Rpb24gKHNoYXBlTWFwLCBzaWRlcywgY3R4KSB7XG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICB2YXIgd2lkdGggPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wid2lkdGhcIl0pIC8gMjtcbiAgICAgIHZhciBoZWlnaHQgPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wiaGVpZ2h0XCJdKSAvIDI7XG5cbiAgICAgIHZhciB4ID0gcGFyc2VGbG9hdChzaGFwZU1hcFtcInhcIl0pICsgd2lkdGg7XG4gICAgICB2YXIgeSA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJ5XCJdKSArIGhlaWdodDtcblxuICAgICAgbGV0IG5Qb2ludHMgPSBzaWRlcyAqIDI7XG4gICAgICB2YXIgcG9pbnRzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5Qb2ludHM7IGkrKykge1xuICAgICAgICBwb2ludHMucHVzaCh7fSk7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpZGVzOyBpKyspIHtcbiAgICAgICAgbGV0IHgxID0gdGhpcy5fY2lyY2xlWChzaWRlcywgaSwgZmFsc2UpICogd2lkdGggKyB4O1xuICAgICAgICBsZXQgeTEgPSB0aGlzLl9jaXJjbGVZKHNpZGVzLCBpLCBmYWxzZSkgKiBoZWlnaHQgKyB5O1xuICAgICAgICBsZXQgeDIgPSB0aGlzLl9jaXJjbGVYKHNpZGVzLCAoaSArIDIpICUgc2lkZXMsIGZhbHNlKSAqIHdpZHRoICsgeDtcbiAgICAgICAgbGV0IHkyID0gdGhpcy5fY2lyY2xlWShzaWRlcywgKGkgKyAyKSAlIHNpZGVzLCBmYWxzZSkgKiBoZWlnaHQgKyB5O1xuICAgICAgICBwb2ludHNbaSAqIDJdID0geyB4OiB4MSwgeTogeTEgfTtcbiAgICAgICAgcG9pbnRzWyhpICogMiArIDQpICUgblBvaW50c10gPSB7IHg6IHgyLCB5OiB5MiB9O1xuICAgICAgfVxuXG4gICAgICAvLyBGaWxsIGluIHRoZSBpbnRlcnNlY3Rpb24gcG9pbnRzXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5Qb2ludHM7IGkgPSBpICsgMikge1xuICAgICAgICBsZXQgcDEgPSBpO1xuICAgICAgICBsZXQgcDIgPSAoaSArIDQpICUgblBvaW50cztcbiAgICAgICAgbGV0IHAzID0gKGkgKyAyKSAlIG5Qb2ludHM7XG4gICAgICAgIGxldCBwNCA9IChwMyArIG5Qb2ludHMgLSA0KSAlIG5Qb2ludHM7XG5cbiAgICAgICAgcG9pbnRzWyhpICsgMSkgJSBuUG9pbnRzXSA9IHRoaXMuX2ZpbmRJbnRlcnNlY3Rpb24oXG4gICAgICAgICAgcG9pbnRzW3AxXSxcbiAgICAgICAgICBwb2ludHNbcDJdLFxuICAgICAgICAgIHBvaW50c1twM10sXG4gICAgICAgICAgcG9pbnRzW3A0XVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBOb3csIGFkZCB0aGUgcG9pbnRzXG4gICAgICBjdHgubW92ZVRvKHBvaW50c1swXVtcInhcIl0sIHBvaW50c1swXVtcInlcIl0pO1xuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBuUG9pbnRzOyBpKyspIHtcbiAgICAgICAgY3R4LmxpbmVUbyhwb2ludHNbaV1bXCJ4XCJdLCBwb2ludHNbaV1bXCJ5XCJdKTtcbiAgICAgIH1cbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcblxuICAgICAgaWYgKHNoYXBlTWFwW1wiZmlsbENvbG9yXCJdKSB7XG4gICAgICAgIGxldCBmaWxsQ29sb3IgPSBzZWxmLl9jb2xvckZyb21JbnQoXG4gICAgICAgICAgc2hhcGVNYXBbXCJmaWxsQ29sb3JcIl0sXG4gICAgICAgICAgc2hhcGVNYXBbXCJmaWxsT3BhY2l0eVwiXVxuICAgICAgICApO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gZmlsbENvbG9yO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgfVxuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH07XG5cbiAgICB0aGlzLl9zY2FsZUN1c3RvbVBvaW50ID0gZnVuY3Rpb24gKHZhbHVlLCBtaW4sIG1heCwgc2NhbGUpIHtcbiAgICAgIHJldHVybiAoc2NhbGUgKiAobWluICsgdmFsdWUpKSAvIChtYXggLSBtaW4pO1xuICAgIH07XG5cbiAgICB0aGlzLl9xdWFkcmF0aWNDdXJ2ZUJvdW5kaW5nQm94ID0gZnVuY3Rpb24gKHgxLCB5MSwgeDIsIHkyLCB4MywgeTMpIHtcbiAgICAgIHZhciBicngsIGJ4LCB4LCBicnksIGJ5LCB5LCBweCwgcHk7XG5cbiAgICAgIC8vIHNvbHZlIHF1YWRyYXRpYyBmb3IgYm91bmRzIGJ5IEJNNjcgbm9ybWFsaXppbmcgZXF1YXRpb25cbiAgICAgIGJyeCA9IHgzIC0geDE7IC8vIGdldCB4IHJhbmdlXG4gICAgICBieCA9IHgyIC0geDE7IC8vIGdldCB4IGNvbnRyb2wgcG9pbnQgb2Zmc2V0XG4gICAgICB4ID0gYnggLyBicng7IC8vIG5vcm1hbGlzZSBjb250cm9sIHBvaW50IHdoaWNoIGlzIHVzZWQgdG8gY2hlY2sgaWYgbWF4aW1hIGlzIGluIHJhbmdlXG5cbiAgICAgIC8vIGRvIHRoZSBzYW1lIGZvciB0aGUgeSBwb2ludHNcbiAgICAgIGJyeSA9IHkzIC0geTE7XG4gICAgICBieSA9IHkyIC0geTE7XG4gICAgICB5ID0gYnkgLyBicnk7XG5cbiAgICAgIHB4ID0geDE7IC8vIHNldCBkZWZhdWx0cyBpbiBjYXNlIG1heGltYXMgb3V0c2lkZSByYW5nZVxuICAgICAgcHkgPSB5MTtcblxuICAgICAgLy8gZmluZCB0b3AvbGVmdCwgdG9wL3JpZ2h0LCBib3R0b20vbGVmdCwgb3IgYm90dG9tL3JpZ2h0XG4gICAgICBpZiAoeCA8IDAgfHwgeCA+IDEpIHtcbiAgICAgICAgLy8gY2hlY2sgaWYgeCBtYXhpbWEgaXMgb24gdGhlIGN1cnZlXG4gICAgICAgIHB4ID0gKGJ4ICogYngpIC8gKDIgKiBieCAtIGJyeCkgKyB4MTsgLy8gZ2V0IHRoZSB4IG1heGltYVxuICAgICAgfVxuICAgICAgaWYgKHkgPCAwIHx8IHkgPiAxKSB7XG4gICAgICAgIC8vIHNhbWUgYXMgeFxuICAgICAgICBweSA9IChieSAqIGJ5KSAvICgyICogYnkgLSBicnkpICsgeTE7XG4gICAgICB9XG5cbiAgICAgIGxldCBleHRlbnQgPSB7fTtcbiAgICAgIGV4dGVudC5sZWZ0ID0gTWF0aC5taW4oeDEsIHgzLCBweCk7XG4gICAgICBleHRlbnQudG9wID0gTWF0aC5taW4oeTEsIHkzLCBweSk7XG4gICAgICBleHRlbnQucmlnaHQgPSBNYXRoLm1heCh4MSwgeDMsIHB4KTtcbiAgICAgIGV4dGVudC5ib3R0b20gPSBNYXRoLm1heCh5MSwgeTMsIHB5KTtcblxuICAgICAgZXh0ZW50LndpZHRoID0gZXh0ZW50LnJpZ2h0IC0gZXh0ZW50LmxlZnQ7XG4gICAgICBleHRlbnQuaGVpZ2h0ID0gZXh0ZW50LmJvdHRvbSAtIGV4dGVudC50b3A7XG5cbiAgICAgIHJldHVybiBleHRlbnQ7XG4gICAgfTtcblxuICAgIHRoaXMuX2V2YWxCZXogPSBmdW5jdGlvbiAocDAsIHAxLCBwMiwgcDMsIHQpIHtcbiAgICAgIHZhciBwID1cbiAgICAgICAgcDAgKiAoMSAtIHQpICogKDEgLSB0KSAqICgxIC0gdCkgK1xuICAgICAgICAzICogcDEgKiB0ICogKDEgLSB0KSAqICgxIC0gdCkgK1xuICAgICAgICAzICogcDIgKiB0ICogdCAqICgxIC0gdCkgK1xuICAgICAgICBwMyAqIHQgKiB0ICogdDtcbiAgICAgIHJldHVybiBwO1xuICAgIH07XG5cbiAgICB0aGlzLl9iZXppZXJDdXJ2ZUJvdW5kaW5nQm94ID0gZnVuY3Rpb24gKFxuICAgICAgcHgwLFxuICAgICAgcHkwLFxuICAgICAgcHgxLFxuICAgICAgcHkxLFxuICAgICAgcHgyLFxuICAgICAgcHkyLFxuICAgICAgcHgzLFxuICAgICAgcHkzXG4gICAgKSB7XG4gICAgICB2YXIgYSA9IDMgKiBweDMgLSA5ICogcHgyICsgOSAqIHB4MSAtIDMgKiBweDA7XG4gICAgICB2YXIgYiA9IDYgKiBweDAgLSAxMiAqIHB4MSArIDYgKiBweDI7XG4gICAgICB2YXIgYyA9IDMgKiBweDEgLSAzICogcHgwO1xuICAgICAgLy9hbGVydChcImEgXCIrYStcIiBcIitiK1wiIFwiK2MpO1xuICAgICAgdmFyIGRpc2MgPSBiICogYiAtIDQgKiBhICogYztcbiAgICAgIHZhciB4bCA9IHB4MDtcbiAgICAgIHZhciB4aCA9IHB4MDtcbiAgICAgIGlmIChweDMgPCB4bCkgeGwgPSBweDM7XG4gICAgICBpZiAocHgzID4geGgpIHhoID0gcHgzO1xuICAgICAgaWYgKGRpc2MgPj0gMCkge1xuICAgICAgICBsZXQgdDEgPSAoLWIgKyBNYXRoLnNxcnQoZGlzYykpIC8gKDIgKiBhKTtcbiAgICAgICAgLy9hbGVydChcInQxIFwiICsgdDEpO1xuICAgICAgICBpZiAodDEgPiAwICYmIHQxIDwgMSkge1xuICAgICAgICAgIHZhciB4MSA9IHNlbGYuX2V2YWxCZXoocHgwLCBweDEsIHB4MiwgcHgzLCB0MSk7XG4gICAgICAgICAgaWYgKHgxIDwgeGwpIHhsID0geDE7XG4gICAgICAgICAgaWYgKHgxID4geGgpIHhoID0geDE7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdDIgPSAoLWIgLSBNYXRoLnNxcnQoZGlzYykpIC8gKDIgKiBhKTtcbiAgICAgICAgLy9hbGVydChcInQyIFwiICsgdDIpO1xuICAgICAgICBpZiAodDIgPiAwICYmIHQyIDwgMSkge1xuICAgICAgICAgIHZhciB4MiA9IHNlbGYuX2V2YWxCZXoocHgwLCBweDEsIHB4MiwgcHgzLCB0Mik7XG4gICAgICAgICAgaWYgKHgyIDwgeGwpIHhsID0geDI7XG4gICAgICAgICAgaWYgKHgyID4geGgpIHhoID0geDI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgYSA9IDMgKiBweTMgLSA5ICogcHkyICsgOSAqIHB5MSAtIDMgKiBweTA7XG4gICAgICBiID0gNiAqIHB5MCAtIDEyICogcHkxICsgNiAqIHB5MjtcbiAgICAgIGMgPSAzICogcHkxIC0gMyAqIHB5MDtcbiAgICAgIGRpc2MgPSBiICogYiAtIDQgKiBhICogYztcbiAgICAgIHZhciB5bCA9IHB5MDtcbiAgICAgIHZhciB5aCA9IHB5MDtcbiAgICAgIGlmIChweTMgPCB5bCkgeWwgPSBweTM7XG4gICAgICBpZiAocHkzID4geWgpIHloID0gcHkzO1xuICAgICAgaWYgKGRpc2MgPj0gMCkge1xuICAgICAgICBsZXQgdDEgPSAoLWIgKyBNYXRoLnNxcnQoZGlzYykpIC8gKDIgKiBhKTtcbiAgICAgICAgLy9hbGVydChcInQzIFwiICsgdDEpO1xuXG4gICAgICAgIGlmICh0MSA+IDAgJiYgdDEgPCAxKSB7XG4gICAgICAgICAgdmFyIHkxID0gc2VsZi5fZXZhbEJleihweTAsIHB5MSwgcHkyLCBweTMsIHQxKTtcbiAgICAgICAgICBpZiAoeTEgPCB5bCkgeWwgPSB5MTtcbiAgICAgICAgICBpZiAoeTEgPiB5aCkgeWggPSB5MTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB0MiA9ICgtYiAtIE1hdGguc3FydChkaXNjKSkgLyAoMiAqIGEpO1xuICAgICAgICAvL2FsZXJ0KFwidDQgXCIgKyB0Mik7XG5cbiAgICAgICAgaWYgKHQyID4gMCAmJiB0MiA8IDEpIHtcbiAgICAgICAgICB2YXIgeTIgPSBzZWxmLl9ldmFsQmV6KHB5MCwgcHkxLCBweTIsIHB5MywgdDIpO1xuICAgICAgICAgIGlmICh5MiA8IHlsKSB5bCA9IHkyO1xuICAgICAgICAgIGlmICh5MiA+IHloKSB5aCA9IHkyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxldCBleHRlbnQgPSB7fTtcbiAgICAgIGV4dGVudC5sZWZ0ID0geGw7XG4gICAgICBleHRlbnQudG9wID0geWw7XG4gICAgICBleHRlbnQucmlnaHQgPSB4aDtcbiAgICAgIGV4dGVudC5ib3R0b20gPSB5aDtcblxuICAgICAgZXh0ZW50LndpZHRoID0gZXh0ZW50LnJpZ2h0IC0gZXh0ZW50LmxlZnQ7XG4gICAgICBleHRlbnQuaGVpZ2h0ID0gZXh0ZW50LmJvdHRvbSAtIGV4dGVudC50b3A7XG5cbiAgICAgIHJldHVybiBleHRlbnQ7XG4gICAgfTtcblxuICAgIHRoaXMuX3NoYXBlRnVuY3Rpb25zID0ge1xuICAgICAgUkVDVEFOR0xFOiBmdW5jdGlvbiAoc2hhcGVNYXAsIGN0eCkge1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5yZWN0KFxuICAgICAgICAgIHNoYXBlTWFwW1wieFwiXSxcbiAgICAgICAgICBzaGFwZU1hcFtcInlcIl0sXG4gICAgICAgICAgc2hhcGVNYXBbXCJ3aWR0aFwiXSxcbiAgICAgICAgICBzaGFwZU1hcFtcImhlaWdodFwiXVxuICAgICAgICApO1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgIGlmIChzaGFwZU1hcFtcImZpbGxDb2xvclwiXSkge1xuICAgICAgICAgIGxldCBmaWxsQ29sb3IgPSBzZWxmLl9jb2xvckZyb21JbnQoXG4gICAgICAgICAgICBzaGFwZU1hcFtcImZpbGxDb2xvclwiXSxcbiAgICAgICAgICAgIHNoYXBlTWFwW1wiZmlsbE9wYWNpdHlcIl1cbiAgICAgICAgICApO1xuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBmaWxsQ29sb3I7XG4gICAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgfVxuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICB9LFxuICAgICAgUk9VTkRFRFJFQ1RBTkdMRTogZnVuY3Rpb24gKHNoYXBlTWFwLCBjdHgpIHtcbiAgICAgICAgdmFyIHdpZHRoID0gcGFyc2VGbG9hdChzaGFwZU1hcFtcIndpZHRoXCJdKTtcbiAgICAgICAgdmFyIGhlaWdodCA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJoZWlnaHRcIl0pO1xuICAgICAgICB2YXIgdGVudGhXaWR0aCA9IHdpZHRoICogMC4xO1xuICAgICAgICB2YXIgeCA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJ4XCJdKTtcbiAgICAgICAgdmFyIHkgPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wieVwiXSk7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcblxuICAgICAgICBjdHgubW92ZVRvKHggKyB0ZW50aFdpZHRoLCB5KTtcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgd2lkdGggLSB0ZW50aFdpZHRoLCB5KTtcbiAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCArIHdpZHRoLCB5LCB4ICsgd2lkdGgsIHkgKyB0ZW50aFdpZHRoKTtcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgd2lkdGgsIHkgKyBoZWlnaHQgLSB0ZW50aFdpZHRoKTtcbiAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oXG4gICAgICAgICAgeCArIHdpZHRoLFxuICAgICAgICAgIHkgKyBoZWlnaHQsXG4gICAgICAgICAgeCArIHdpZHRoIC0gdGVudGhXaWR0aCxcbiAgICAgICAgICB5ICsgaGVpZ2h0XG4gICAgICAgICk7XG4gICAgICAgIGN0eC5saW5lVG8oeCArIHRlbnRoV2lkdGgsIHkgKyBoZWlnaHQpO1xuICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyh4LCB5ICsgaGVpZ2h0LCB4LCB5ICsgaGVpZ2h0IC0gdGVudGhXaWR0aCk7XG4gICAgICAgIGN0eC5saW5lVG8oeCwgeSArIHRlbnRoV2lkdGgpO1xuICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyh4LCB5LCB4ICsgdGVudGhXaWR0aCwgeSk7XG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgaWYgKHNoYXBlTWFwW1wiZmlsbENvbG9yXCJdKSB7XG4gICAgICAgICAgbGV0IGZpbGxDb2xvciA9IHNlbGYuX2NvbG9yRnJvbUludChcbiAgICAgICAgICAgIHNoYXBlTWFwW1wiZmlsbENvbG9yXCJdLFxuICAgICAgICAgICAgc2hhcGVNYXBbXCJmaWxsT3BhY2l0eVwiXVxuICAgICAgICAgICk7XG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGZpbGxDb2xvcjtcbiAgICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgIH0sXG4gICAgICBFTExJUFNFOiBmdW5jdGlvbiAoc2hhcGVNYXAsIGN0eCkge1xuICAgICAgICB2YXIgaGFsZldpZHRoID0gcGFyc2VGbG9hdChzaGFwZU1hcFtcIndpZHRoXCJdKSAvIDI7XG4gICAgICAgIHZhciBoYWxmSGVpZ2h0ID0gcGFyc2VGbG9hdChzaGFwZU1hcFtcImhlaWdodFwiXSkgLyAyO1xuICAgICAgICB2YXIgeCA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJ4XCJdKSArIGhhbGZXaWR0aDtcbiAgICAgICAgdmFyIHkgPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wieVwiXSkgKyBoYWxmSGVpZ2h0O1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5lbGxpcHNlKHgsIHksIGhhbGZXaWR0aCwgaGFsZkhlaWdodCwgMCwgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgIGlmIChzaGFwZU1hcFtcImZpbGxDb2xvclwiXSkge1xuICAgICAgICAgIGxldCBmaWxsQ29sb3IgPSBzZWxmLl9jb2xvckZyb21JbnQoXG4gICAgICAgICAgICBzaGFwZU1hcFtcImZpbGxDb2xvclwiXSxcbiAgICAgICAgICAgIHNoYXBlTWFwW1wiZmlsbE9wYWNpdHlcIl1cbiAgICAgICAgICApO1xuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBmaWxsQ29sb3I7XG4gICAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgfVxuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICB9LFxuICAgICAgU1RBUjU6IGZ1bmN0aW9uIChzaGFwZU1hcCwgY3R4KSB7XG4gICAgICAgIHNlbGYuX3N0YXJTaGFwZUZ1bmN0aW9uKHNoYXBlTWFwLCA1LCBjdHgpO1xuICAgICAgfSxcbiAgICAgIFNUQVI2OiBmdW5jdGlvbiAoc2hhcGVNYXAsIGN0eCkge1xuICAgICAgICBzZWxmLl9zdGFyU2hhcGVGdW5jdGlvbihzaGFwZU1hcCwgNiwgY3R4KTtcbiAgICAgIH0sXG4gICAgICBUUklBTkdMRTogZnVuY3Rpb24gKHNoYXBlTWFwLCBjdHgpIHtcbiAgICAgICAgc2VsZi5fcmVndWxhclBvbHlnb25TaGFwZUZ1bmN0aW9uKHNoYXBlTWFwLCAzLCBjdHgpO1xuICAgICAgfSxcbiAgICAgIFBFTlRBR09OOiBmdW5jdGlvbiAoc2hhcGVNYXAsIGN0eCkge1xuICAgICAgICBzZWxmLl9yZWd1bGFyUG9seWdvblNoYXBlRnVuY3Rpb24oc2hhcGVNYXAsIDUsIGN0eCk7XG4gICAgICB9LFxuICAgICAgSEVYQUdPTjogZnVuY3Rpb24gKHNoYXBlTWFwLCBjdHgpIHtcbiAgICAgICAgc2VsZi5fcmVndWxhclBvbHlnb25TaGFwZUZ1bmN0aW9uKHNoYXBlTWFwLCA2LCBjdHgpO1xuICAgICAgfSxcbiAgICAgIE9DVEFHT046IGZ1bmN0aW9uIChzaGFwZU1hcCwgY3R4KSB7XG4gICAgICAgIHNlbGYuX3JlZ3VsYXJQb2x5Z29uU2hhcGVGdW5jdGlvbihzaGFwZU1hcCwgOCwgY3R4KTtcbiAgICAgIH0sXG4gICAgICBQQVJBTExFTE9HUkFNOiBmdW5jdGlvbiAoc2hhcGVNYXAsIGN0eCkge1xuICAgICAgICB2YXIgeCA9IHBhcnNlRmxvYXQoc2hhcGVNYXBbXCJ4XCJdKTtcbiAgICAgICAgdmFyIHkgPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wieVwiXSk7XG5cbiAgICAgICAgdmFyIHhNYXggPSB4ICsgcGFyc2VGbG9hdChzaGFwZU1hcFtcIndpZHRoXCJdKTtcbiAgICAgICAgdmFyIHlNYXggPSB5ICsgcGFyc2VGbG9hdChzaGFwZU1hcFtcImhlaWdodFwiXSk7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4Lm1vdmVUbyh4LCB5KTtcbiAgICAgICAgY3R4LmxpbmVUbygoMi4wICogeE1heCArIHgpIC8gMy4wLCB5KTtcbiAgICAgICAgY3R4LmxpbmVUbyh4TWF4LCB5TWF4KTtcbiAgICAgICAgY3R4LmxpbmVUbygoMi4wICogeCArIHhNYXgpIC8gMy4wLCB5TWF4KTtcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICBpZiAoc2hhcGVNYXBbXCJmaWxsQ29sb3JcIl0pIHtcbiAgICAgICAgICBsZXQgZmlsbENvbG9yID0gc2VsZi5fY29sb3JGcm9tSW50KFxuICAgICAgICAgICAgc2hhcGVNYXBbXCJmaWxsQ29sb3JcIl0sXG4gICAgICAgICAgICBzaGFwZU1hcFtcImZpbGxPcGFjaXR5XCJdXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZmlsbENvbG9yO1xuICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBDVVNUT006IGZ1bmN0aW9uIChzaGFwZU1hcCwgY3R4KSB7XG4gICAgICAgIGNvbnN0IGN1c3RvbVNoYXBlID0gc2hhcGVNYXBbXCJjdXN0b21TaGFwZVwiXTtcbiAgICAgICAgaWYgKGN1c3RvbVNoYXBlKSB7XG4gICAgICAgICAgdmFyIHggPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wieFwiXSk7XG4gICAgICAgICAgdmFyIHkgPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wieVwiXSk7XG5cbiAgICAgICAgICB2YXIgd2lkdGggPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wid2lkdGhcIl0pO1xuICAgICAgICAgIHZhciBoZWlnaHQgPSBwYXJzZUZsb2F0KHNoYXBlTWFwW1wiaGVpZ2h0XCJdKTtcblxuXG4gICAgICAgICAgdmFyIHNoYXBlQXJncyA9IGN1c3RvbVNoYXBlLnNwbGl0KFwiIFwiKTtcblxuICAgICAgICAgIGxldCBtaW5YID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgICAgICBsZXQgbWluWSA9IE51bWJlci5NQVhfVkFMVUU7XG5cbiAgICAgICAgICBsZXQgbWF4WCA9IE51bWJlci5NSU5fVkFMVUU7XG4gICAgICAgICAgbGV0IG1heFkgPSBOdW1iZXIuTUlOX1ZBTFVFO1xuXG4gICAgICAgICAgbGV0IGxhc3RYO1xuICAgICAgICAgIGxldCBsYXN0WTtcblxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hhcGVBcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc2hhcGVBcmdzW2ldID09IFwiTVwiKSB7XG4gICAgICAgICAgICAgIGxldCBteCA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAxXSk7XG4gICAgICAgICAgICAgIGxldCBteSA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAyXSk7XG4gICAgICAgICAgICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCBteCk7XG4gICAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCBteSk7XG4gICAgICAgICAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCBteCk7XG4gICAgICAgICAgICAgIG1heFkgPSBNYXRoLm1heChtYXhZLCBteSk7XG4gICAgICAgICAgICAgIGxhc3RYID0gbXg7XG4gICAgICAgICAgICAgIGxhc3RZID0gbXk7XG4gICAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hhcGVBcmdzW2ldID09IFwiTFwiKSB7XG4gICAgICAgICAgICAgIGxldCBseCA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAxXSk7XG4gICAgICAgICAgICAgIGxldCBseSA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAyXSk7XG4gICAgICAgICAgICAgIG1pblggPSBNYXRoLm1pbihtaW5YLCBseCk7XG4gICAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCBseSk7XG4gICAgICAgICAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCBseCk7XG4gICAgICAgICAgICAgIG1heFkgPSBNYXRoLm1heChtYXhZLCBseSk7XG4gICAgICAgICAgICAgIGxhc3RYID0gbHg7XG4gICAgICAgICAgICAgIGxhc3RZID0gbHk7XG4gICAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hhcGVBcmdzW2ldID09IFwiUVwiKSB7XG4gICAgICAgICAgICAgIGxldCBxMSA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAxXSk7XG4gICAgICAgICAgICAgIGxldCBxMiA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAyXSk7XG4gICAgICAgICAgICAgIGxldCBxMyA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAzXSk7XG4gICAgICAgICAgICAgIGxldCBxNCA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyA0XSk7XG5cbiAgICAgICAgICAgICAgbGV0IGV4dGVudCA9IHNlbGYuX3F1YWRyYXRpY0N1cnZlQm91bmRpbmdCb3goXG4gICAgICAgICAgICAgICAgbGFzdFgsXG4gICAgICAgICAgICAgICAgbGFzdFksXG4gICAgICAgICAgICAgICAgcTEsXG4gICAgICAgICAgICAgICAgcTIsXG4gICAgICAgICAgICAgICAgcTMsXG4gICAgICAgICAgICAgICAgcTRcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgZXh0ZW50LmxlZnQpO1xuICAgICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgZXh0ZW50LnJpZ2h0KTtcblxuICAgICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgZXh0ZW50LmJvdHRvbSk7XG4gICAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCBleHRlbnQudG9wKTtcblxuICAgICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgZXh0ZW50LmxlZnQpO1xuICAgICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgZXh0ZW50LnJpZ2h0KTtcblxuICAgICAgICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgZXh0ZW50LmJvdHRvbSk7XG4gICAgICAgICAgICAgIG1heFkgPSBNYXRoLm1heChtYXhZLCBleHRlbnQudG9wKTtcblxuICAgICAgICAgICAgICBsYXN0WCA9IHEzO1xuICAgICAgICAgICAgICBsYXN0WSA9IHE0O1xuXG4gICAgICAgICAgICAgIGkgKz0gNDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hhcGVBcmdzW2ldID09IFwiQ1wiKSB7XG4gICAgICAgICAgICAgIGxldCBjMSA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAxXSk7XG4gICAgICAgICAgICAgIGxldCBjMiA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAyXSk7XG4gICAgICAgICAgICAgIGxldCBjMyA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAzXSk7XG4gICAgICAgICAgICAgIGxldCBjNCA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyA0XSk7XG4gICAgICAgICAgICAgIGxldCBjNSA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyA1XSk7XG4gICAgICAgICAgICAgIGxldCBjNiA9IHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyA2XSk7XG5cbiAgICAgICAgICAgICAgbGV0IGV4dGVudCA9IHNlbGYuX2JlemllckN1cnZlQm91bmRpbmdCb3goXG4gICAgICAgICAgICAgICAgbGFzdFgsXG4gICAgICAgICAgICAgICAgbGFzdFksXG4gICAgICAgICAgICAgICAgYzEsXG4gICAgICAgICAgICAgICAgYzIsXG4gICAgICAgICAgICAgICAgYzMsXG4gICAgICAgICAgICAgICAgYzQsXG4gICAgICAgICAgICAgICAgYzUsXG4gICAgICAgICAgICAgICAgYzZcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgZXh0ZW50LmxlZnQpO1xuICAgICAgICAgICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgZXh0ZW50LnJpZ2h0KTtcblxuICAgICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgZXh0ZW50LmJvdHRvbSk7XG4gICAgICAgICAgICAgIG1pblkgPSBNYXRoLm1pbihtaW5ZLCBleHRlbnQudG9wKTtcblxuICAgICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgZXh0ZW50LmxlZnQpO1xuICAgICAgICAgICAgICBtYXhYID0gTWF0aC5tYXgobWF4WCwgZXh0ZW50LnJpZ2h0KTtcblxuICAgICAgICAgICAgICBtYXhZID0gTWF0aC5tYXgobWF4WSwgZXh0ZW50LmJvdHRvbSk7XG4gICAgICAgICAgICAgIG1heFkgPSBNYXRoLm1heChtYXhZLCBleHRlbnQudG9wKTtcblxuICAgICAgICAgICAgICBsYXN0WCA9IGM1O1xuICAgICAgICAgICAgICBsYXN0WSA9IGM2O1xuXG4gICAgICAgICAgICAgIGkgKz0gNjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgc2NhbGVYID0gd2lkdGggLyAobWF4WCAtIG1pblgpO1xuICAgICAgICAgIGxldCBzY2FsZVkgPSBoZWlnaHQgLyAobWF4WSAtIG1pblkpO1xuXG4gICAgICAgICAgbGV0IGJhc2VYID0geCAtIHNjYWxlWCAqIG1pblg7XG4gICAgICAgICAgbGV0IGJhc2VZID0geSAtIHNjYWxlWSAqIG1pblk7XG5cbiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoYXBlQXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHNoYXBlQXJnc1tpXSA9PSBcIk5aXCIpIHtcbiAgICAgICAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgIGN0eC5tb3pGaWxsUnVsZSA9IFwibm9uemVyb1wiO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzaGFwZUFyZ3NbaV0gPT0gXCJFT1wiKSB7XG4gICAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICBjdHgubW96RmlsbFJ1bGUgPSBcImV2ZW5vZGRcIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hhcGVBcmdzW2ldID09IFwiTVwiKSB7XG4gICAgICAgICAgICAgIGxldCBteCA9IGJhc2VYICsgc2NhbGVYICogcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDFdKTtcbiAgICAgICAgICAgICAgbGV0IG15ID0gYmFzZVkgKyBzY2FsZVkgKiBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgMl0pO1xuICAgICAgICAgICAgICBjdHgubW92ZVRvKG14LCBteSk7XG4gICAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hhcGVBcmdzW2ldID09IFwiTFwiKSB7XG4gICAgICAgICAgICAgIGxldCBseCA9IGJhc2VYICsgc2NhbGVYICogcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDFdKTtcbiAgICAgICAgICAgICAgbGV0IGx5ID0gYmFzZVkgKyBzY2FsZVkgKiBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgMl0pO1xuICAgICAgICAgICAgICBjdHgubGluZVRvKGx4LCBseSk7XG4gICAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2hhcGVBcmdzW2ldID09IFwiUVwiKSB7XG4gICAgICAgICAgICAgIGxldCBxMSA9IGJhc2VYICsgc2NhbGVYICogcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDFdKTtcbiAgICAgICAgICAgICAgbGV0IHEyID0gYmFzZVkgKyBzY2FsZVkgKiBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgMl0pO1xuICAgICAgICAgICAgICBsZXQgcTMgPSBiYXNlWCArIHNjYWxlWCAqIHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAzXSk7XG4gICAgICAgICAgICAgIGxldCBxNCA9IGJhc2VZICsgc2NhbGVZICogcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDRdKTtcbiAgICAgICAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8ocTEsIHEyLCBxMywgcTQpO1xuICAgICAgICAgICAgICBpICs9IDQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNoYXBlQXJnc1tpXSA9PSBcIkNcIikge1xuICAgICAgICAgICAgICBsZXQgYzEgPSBiYXNlWCArIHNjYWxlWCAqIHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyAxXSk7XG4gICAgICAgICAgICAgIGxldCBjMiA9IGJhc2VZICsgc2NhbGVZICogcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDJdKTtcbiAgICAgICAgICAgICAgbGV0IGMzID0gYmFzZVggKyBzY2FsZVggKiBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgM10pO1xuICAgICAgICAgICAgICBsZXQgYzQgPSBiYXNlWSArIHNjYWxlWSAqIHBhcnNlRmxvYXQoc2hhcGVBcmdzW2kgKyA0XSk7XG4gICAgICAgICAgICAgIGxldCBjNSA9IGJhc2VYICsgc2NhbGVYICogcGFyc2VGbG9hdChzaGFwZUFyZ3NbaSArIDVdKTtcbiAgICAgICAgICAgICAgbGV0IGM2ID0gYmFzZVkgKyBzY2FsZVkgKiBwYXJzZUZsb2F0KHNoYXBlQXJnc1tpICsgNl0pO1xuICAgICAgICAgICAgICBjdHguYmV6aWVyQ3VydmVUbyhjMSwgYzIsIGMzLCBjNCwgYzUsIGM2KTtcbiAgICAgICAgICAgICAgaSArPSA2O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzaGFwZUFyZ3NbaV0gPT0gXCJaXCIpIHtcbiAgICAgICAgICAgICAgLy9jdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICBpZiAoc2hhcGVNYXBbXCJmaWxsQ29sb3JcIl0pIHtcbiAgICAgICAgICAgIGxldCBmaWxsQ29sb3IgPSBzZWxmLl9jb2xvckZyb21JbnQoXG4gICAgICAgICAgICAgIHNoYXBlTWFwW1wiZmlsbENvbG9yXCJdLFxuICAgICAgICAgICAgICBzaGFwZU1hcFtcImZpbGxPcGFjaXR5XCJdXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGZpbGxDb2xvcjtcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLl9jb2xvckZyb21JbnQgPSBmdW5jdGlvbiAobnVtLCBhbHBoYSkge1xuICAgICAgbnVtID4+Pj0gMDtcbiAgICAgIHZhciBiID0gbnVtICYgMHhmZixcbiAgICAgICAgZyA9IChudW0gJiAweGZmMDApID4+PiA4LFxuICAgICAgICByID0gKG51bSAmIDB4ZmYwMDAwKSA+Pj4gMTYsXG4gICAgICAgIGEgPSBwYXJzZUZsb2F0KGFscGhhKSAvIDEwMDtcblxuICAgICAgcmV0dXJuIFwicmdiKFwiICsgciArIFwiLFwiICsgZyArIFwiLFwiICsgYiArIFwiLFwiICsgYSArIFwiKVwiO1xuICAgIH07XG4gIH1cblxuICBkcmF3QmFja2dyb3VuZEZyb21OaWNlQ1goY3l0b3NjYXBlSW5zdGFuY2UsIG5pY2VDWCkge1xuICAgIGNvbnN0IGN4MmpzID0gdGhpcy5jeDJqcztcbiAgICBjb25zdCBjeEJHQ29sb3IgPSBjeDJqcy5jeUJhY2tncm91bmRDb2xvckZyb21OaWNlQ1gobmljZUNYKTtcbiAgICB0aGlzLmRyYXdCYWNrZ3JvdW5kKGN5dG9zY2FwZUluc3RhbmNlLCBjeEJHQ29sb3IpO1xuICB9XG5cbiAgZHJhd0JhY2tncm91bmQoY3l0b3NjYXBlSW5zdGFuY2UsIGN4QkdDb2xvcikge1xuICAgIGNvbnN0IGJhY2tncm91bmRMYXllciA9IGN5dG9zY2FwZUluc3RhbmNlLmN5Q2FudmFzKHtcbiAgICAgIHpJbmRleDogLTJcbiAgICB9KTtcblxuICAgIGNvbnN0IGJhY2tncm91bmRDYW52YXMgPSBiYWNrZ3JvdW5kTGF5ZXIuZ2V0Q2FudmFzKCk7XG4gICAgY29uc3QgYmFja2dyb3VuZEN0eCA9IGJhY2tncm91bmRDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgY3l0b3NjYXBlSW5zdGFuY2Uub24oXCJyZW5kZXIgY3lDYW52YXMucmVzaXplXCIsIGV2dCA9PiB7XG4gICAgICBiYWNrZ3JvdW5kQ3R4LmZpbGxTdHlsZSA9IGN4QkdDb2xvcjtcbiAgICAgIGJhY2tncm91bmRDdHguZmlsbFJlY3QoXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIGJhY2tncm91bmRDYW52YXMud2lkdGgsXG4gICAgICAgIGJhY2tncm91bmRDYW52YXMuaGVpZ2h0XG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0QW5ub3RhdGlvbkVsZW1lbnRzRnJvbU5pY2VDWChuaWNlQ1gpIHtcbiAgICBpZiAobmljZUNYW1wibmV0d29ya0F0dHJpYnV0ZXNcIl0pIHtcbiAgICAgIHJldHVybiBuaWNlQ1hbXCJuZXR3b3JrQXR0cmlidXRlc1wiXVtcImVsZW1lbnRzXCJdLmZpbHRlcihmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudFtcIm5cIl0gPT0gXCJfX0Fubm90YXRpb25zXCI7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuXG4gIGRyYXdBbm5vdGF0aW9uc0Zyb21Bbm5vdGF0aW9uRWxlbWVudHMoY3l0b3NjYXBlSW5zdGFuY2UsIGFubm90YXRpb25FbGVtZW50cykge1xuICAgIGNvbnN0IGN4MmpzID0gdGhpcy5jeDJqcztcbiAgICAvL2NvbnNvbGUubG9nKFwic2V0dGluZyB1cCBhbm5vdGF0aW9uc1wiKTtcbiAgICBjb25zdCBib3R0b21MYXllciA9IGN5dG9zY2FwZUluc3RhbmNlLmN5Q2FudmFzKHtcbiAgICAgIHpJbmRleDogLTFcbiAgICB9KTtcblxuICAgIGNvbnN0IHRvcExheWVyID0gY3l0b3NjYXBlSW5zdGFuY2UuY3lDYW52YXMoe1xuICAgICAgekluZGV4OiAxXG4gICAgfSk7XG5cbiAgICBjb25zdCBib3R0b21DYW52YXMgPSBib3R0b21MYXllci5nZXRDYW52YXMoKTtcbiAgICBjb25zdCBib3R0b21DdHggPSBib3R0b21DYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgY29uc3QgdG9wQ2FudmFzID0gdG9wTGF5ZXIuZ2V0Q2FudmFzKCk7XG4gICAgY29uc3QgdG9wQ3R4ID0gdG9wQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgIGN5dG9zY2FwZUluc3RhbmNlLm9uKFwicmVuZGVyIGN5Q2FudmFzLnJlc2l6ZVwiLCBldnQgPT4ge1xuICAgICAgdmFyIGNvbG9yRnJvbUludCA9IHRoaXMuX2NvbG9yRnJvbUludDtcbiAgICAgIHZhciBzaGFwZUZ1bmN0aW9ucyA9IHRoaXMuX3NoYXBlRnVuY3Rpb25zO1xuICAgICAgLy9jb25zb2xlLmxvZyhcInJlbmRlciBjeUNhbnZhcy5yZXNpemUgZXZlbnRcIik7XG4gICAgICBib3R0b21MYXllci5yZXNldFRyYW5zZm9ybShib3R0b21DdHgpO1xuICAgICAgYm90dG9tTGF5ZXIuY2xlYXIoYm90dG9tQ3R4KTtcbiAgICAgIGJvdHRvbUxheWVyLnNldFRyYW5zZm9ybShib3R0b21DdHgpO1xuXG4gICAgICBib3R0b21DdHguc2F2ZSgpO1xuXG4gICAgICB0b3BMYXllci5yZXNldFRyYW5zZm9ybSh0b3BDdHgpO1xuICAgICAgdG9wTGF5ZXIuY2xlYXIodG9wQ3R4KTtcbiAgICAgIHRvcExheWVyLnNldFRyYW5zZm9ybSh0b3BDdHgpO1xuXG4gICAgICB0b3BDdHguc2F2ZSgpO1xuXG4gICAgICB2YXIgaW5kZXhlZEFubm90YXRpb25zID0ge307XG4gICAgICB2YXIgdG9wQW5ub3RhdGlvbnMgPSBbXTtcbiAgICAgIHZhciBib3R0b21Bbm5vdGF0aW9ucyA9IFtdO1xuXG4gICAgICBhbm5vdGF0aW9uRWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICBlbGVtZW50W1widlwiXS5mb3JFYWNoKGZ1bmN0aW9uIChhbm5vdGF0aW9uKSB7XG4gICAgICAgICAgdmFyIGFubm90YXRpb25LVkxpc3QgPSBhbm5vdGF0aW9uLnNwbGl0KFwifFwiKTtcbiAgICAgICAgICB2YXIgYW5ub3RhdGlvbk1hcCA9IHt9O1xuICAgICAgICAgIGFubm90YXRpb25LVkxpc3QuZm9yRWFjaChmdW5jdGlvbiAoYW5ub3RhdGlvbktWKSB7XG4gICAgICAgICAgICB2YXIga3ZQYWlyID0gYW5ub3RhdGlvbktWLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgICAgIGFubm90YXRpb25NYXBba3ZQYWlyWzBdXSA9IGt2UGFpclsxXTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGluZGV4ZWRBbm5vdGF0aW9uc1thbm5vdGF0aW9uTWFwW1widXVpZFwiXV0gPSBhbm5vdGF0aW9uTWFwO1xuXG4gICAgICAgICAgaWYgKGFubm90YXRpb25NYXBbXCJjYW52YXNcIl0gPT0gXCJmb3JlZ3JvdW5kXCIpIHtcbiAgICAgICAgICAgIHRvcEFubm90YXRpb25zLnB1c2goYW5ub3RhdGlvbk1hcFtcInV1aWRcIl0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBib3R0b21Bbm5vdGF0aW9ucy5wdXNoKGFubm90YXRpb25NYXBbXCJ1dWlkXCJdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICB2YXIgek9yZGVyQ29tcGFyZSA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIGxldCBhbm5vdGF0aW9uQSA9IGluZGV4ZWRBbm5vdGF0aW9uc1thXTtcbiAgICAgICAgbGV0IGFubm90YXRpb25CID0gaW5kZXhlZEFubm90YXRpb25zW2JdO1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQoYW5ub3RhdGlvbkJbXCJ6XCJdKSAtIHBhcnNlSW50KGFubm90YXRpb25BW1wielwiXSk7XG4gICAgICB9O1xuXG4gICAgICB0b3BBbm5vdGF0aW9ucy5zb3J0KHpPcmRlckNvbXBhcmUpO1xuICAgICAgYm90dG9tQW5ub3RhdGlvbnMuc29ydCh6T3JkZXJDb21wYXJlKTtcblxuICAgICAgdmFyIGNvbnRleHRBbm5vdGF0aW9uTWFwID0gW1xuICAgICAgICB7IGNvbnRleHQ6IHRvcEN0eCwgYW5ub3RhdGlvbnM6IHRvcEFubm90YXRpb25zIH0sXG4gICAgICAgIHsgY29udGV4dDogYm90dG9tQ3R4LCBhbm5vdGF0aW9uczogYm90dG9tQW5ub3RhdGlvbnMgfVxuICAgICAgXTtcbiAgICAgIGNvbnRleHRBbm5vdGF0aW9uTWFwLmZvckVhY2goZnVuY3Rpb24gKGNvbnRleHRBbm5vdGF0aW9uUGFpcikge1xuICAgICAgICBsZXQgY3R4ID0gY29udGV4dEFubm90YXRpb25QYWlyLmNvbnRleHQ7XG4gICAgICAgIGNvbnRleHRBbm5vdGF0aW9uUGFpci5hbm5vdGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChhbm5vdGF0aW9uVVVJRCkge1xuICAgICAgICAgIGxldCBhbm5vdGF0aW9uTWFwID0gaW5kZXhlZEFubm90YXRpb25zW2Fubm90YXRpb25VVUlEXTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBhbm5vdGF0aW9uTWFwW1widHlwZVwiXSA9PVxuICAgICAgICAgICAgXCJvcmcuY3l0b3NjYXBlLnZpZXcucHJlc2VudGF0aW9uLmFubm90YXRpb25zLlNoYXBlQW5ub3RhdGlvblwiIHx8XG4gICAgICAgICAgICBhbm5vdGF0aW9uTWFwW1widHlwZVwiXSA9PVxuICAgICAgICAgICAgXCJvcmcuY3l0b3NjYXBlLnZpZXcucHJlc2VudGF0aW9uLmFubm90YXRpb25zLkJvdW5kZWRUZXh0QW5ub3RhdGlvblwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICAvL2N0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSBhbm5vdGF0aW9uTWFwW1wiZWRnZVRoaWNrbmVzc1wiXTtcblxuICAgICAgICAgICAgYW5ub3RhdGlvbk1hcFtcIndpZHRoXCJdID1cbiAgICAgICAgICAgICAgcGFyc2VGbG9hdChhbm5vdGF0aW9uTWFwW1wid2lkdGhcIl0pIC9cbiAgICAgICAgICAgICAgcGFyc2VGbG9hdChhbm5vdGF0aW9uTWFwW1wiem9vbVwiXSk7XG4gICAgICAgICAgICBhbm5vdGF0aW9uTWFwW1wiaGVpZ2h0XCJdID1cbiAgICAgICAgICAgICAgcGFyc2VGbG9hdChhbm5vdGF0aW9uTWFwW1wiaGVpZ2h0XCJdKSAvXG4gICAgICAgICAgICAgIHBhcnNlRmxvYXQoYW5ub3RhdGlvbk1hcFtcInpvb21cIl0pO1xuICAgICAgICAgICAgaWYgKHNoYXBlRnVuY3Rpb25zW2Fubm90YXRpb25NYXBbXCJzaGFwZVR5cGVcIl1dKSB7XG4gICAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yRnJvbUludChcbiAgICAgICAgICAgICAgICBhbm5vdGF0aW9uTWFwW1wiZWRnZUNvbG9yXCJdLFxuICAgICAgICAgICAgICAgIGFubm90YXRpb25NYXBbXCJlZGdlT3BhY2l0eVwiXVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBzaGFwZUZ1bmN0aW9uc1thbm5vdGF0aW9uTWFwW1wic2hhcGVUeXBlXCJdXShhbm5vdGF0aW9uTWFwLCBjdHgpO1xuXG4gICAgICAgICAgICAgIC8vY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiSW52YWxpZCBzaGFwZSB0eXBlOiBcIiArIGFubm90YXRpb25NYXBbXCJzaGFwZVR5cGVcIl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBhbm5vdGF0aW9uTWFwW1widHlwZVwiXSA9PVxuICAgICAgICAgICAgXCJvcmcuY3l0b3NjYXBlLnZpZXcucHJlc2VudGF0aW9uLmFubm90YXRpb25zLkFycm93QW5ub3RhdGlvblwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGFubm90YXRpb25NYXBbXCJ0YXJnZXRBbm5vdGF0aW9uXCJdICYmXG4gICAgICAgICAgICAgIGFubm90YXRpb25NYXBbXCJzb3VyY2VBbm5vdGF0aW9uXCJdXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgbGV0IHNvdXJjZUFubm90YXRpb24gPVxuICAgICAgICAgICAgICAgIGluZGV4ZWRBbm5vdGF0aW9uc1thbm5vdGF0aW9uTWFwW1wic291cmNlQW5ub3RhdGlvblwiXV07XG4gICAgICAgICAgICAgIGxldCB0YXJnZXRBbm5vdGF0aW9uID1cbiAgICAgICAgICAgICAgICBpbmRleGVkQW5ub3RhdGlvbnNbYW5ub3RhdGlvbk1hcFtcInRhcmdldEFubm90YXRpb25cIl1dO1xuXG4gICAgICAgICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgaXMgYSBzdGFydCB0byBpbXBsZW1lbnRpbmcgYXJyb3cgYW5ub3RhdGlvbnMuIFRvIGZvbGxvdyBDeXRvc2NhcGUnc1xuICAgICAgICAgICAgICAvLyBpbXBsZW1lbnRhdGlvbiwgaXQgd291bGQgdGFrZSBhIGdyZWF0IGRlYWwgb2YgbWF0aCBhbmQgc3BlY2lhbCBjYXNlcywgc28gaGFzIGJlZW5cbiAgICAgICAgICAgICAgLy8gbGVmdCBmb3IgbGF0ZXIgd29yay5cbiAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNvdXJjZVggPSBzb3VyY2VBbm5vdGF0aW9uWyd4J107XG4gICAgICAgICAgICAgICAgICAgIGxldCBzb3VyY2VZID0gc291cmNlQW5ub3RhdGlvblsneSddO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXRYID0gdGFyZ2V0QW5ub3RhdGlvblsneCddO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0WSA9IHRhcmdldEFubm90YXRpb25bJ3knXTtcblxuICAgICAgICAgICAgICAgICAgICBjdHgubW92ZVRvKHNvdXJjZVgsIHNvdXJjZVkpO1xuICAgICAgICAgICAgICAgICAgICBjdHgubGluZVRvKHRhcmdldFgsIHRhcmdldFkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHRleHQ7XG4gICAgICAgICAgdmFyIHRleHRYO1xuICAgICAgICAgIHZhciB0ZXh0WTtcblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGFubm90YXRpb25NYXBbXCJ0eXBlXCJdID09XG4gICAgICAgICAgICBcIm9yZy5jeXRvc2NhcGUudmlldy5wcmVzZW50YXRpb24uYW5ub3RhdGlvbnMuVGV4dEFubm90YXRpb25cIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGV4dCA9IGFubm90YXRpb25NYXBbXCJ0ZXh0XCJdO1xuICAgICAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XG4gICAgICAgICAgICBjdHgudGV4dEFsaWduID0gXCJsZWZ0XCI7XG4gICAgICAgICAgICB0ZXh0WCA9IGFubm90YXRpb25NYXBbXCJ4XCJdO1xuICAgICAgICAgICAgdGV4dFkgPSBhbm5vdGF0aW9uTWFwW1wieVwiXTtcbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgYW5ub3RhdGlvbk1hcFtcInR5cGVcIl0gPT1cbiAgICAgICAgICAgIFwib3JnLmN5dG9zY2FwZS52aWV3LnByZXNlbnRhdGlvbi5hbm5vdGF0aW9ucy5Cb3VuZGVkVGV4dEFubm90YXRpb25cIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGV4dCA9IGFubm90YXRpb25NYXBbXCJ0ZXh0XCJdO1xuXG4gICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIjtcbiAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuXG4gICAgICAgICAgICB0ZXh0WCA9IHBhcnNlRmxvYXQoYW5ub3RhdGlvbk1hcFtcInhcIl0pICsgYW5ub3RhdGlvbk1hcFtcIndpZHRoXCJdIC8gMjtcbiAgICAgICAgICAgIHRleHRZID1cbiAgICAgICAgICAgICAgcGFyc2VGbG9hdChhbm5vdGF0aW9uTWFwW1wieVwiXSkgKyBhbm5vdGF0aW9uTWFwW1wiaGVpZ2h0XCJdIC8gMjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRleHQgJiYgdGV4dFggJiYgdGV4dFkpIHtcbiAgICAgICAgICAgIHZhciBmb250U2l6ZSA9XG4gICAgICAgICAgICAgIHBhcnNlRmxvYXQoYW5ub3RhdGlvbk1hcFtcImZvbnRTaXplXCJdKSAvXG4gICAgICAgICAgICAgIHBhcnNlRmxvYXQoYW5ub3RhdGlvbk1hcFtcInpvb21cIl0pO1xuICAgICAgICAgICAgdmFyIGZvbnRGYW1pbHk7XG5cbiAgICAgICAgICAgIGlmIChhbm5vdGF0aW9uTWFwW1wiZm9udEZhbWlseVwiXSkge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgY3gyanMuSmF2YUxvZ2ljYWxGb250Q29uc3RhbnRzLkZPTlRfRkFNSUxZX0xJU1QuaW5jbHVkZXMoXG4gICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uTWFwW1wiZm9udEZhbWlseVwiXVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgZm9udEZhbWlseSA9XG4gICAgICAgICAgICAgICAgICBjeDJqcy5KYXZhTG9naWNhbEZvbnRDb25zdGFudHMuRk9OVF9TVEFDS19NQVBbXG4gICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uTWFwW1wiZm9udEZhbWlseVwiXVxuICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBjeDJqcy5Db21tb25PU0ZvbnRDb25zdGFudHMuRk9OVF9TVEFDS19NQVBbXG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbk1hcFtcImZvbnRGYW1pbHlcIl1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHkgPVxuICAgICAgICAgICAgICAgICAgY3gyanMuQ29tbW9uT1NGb250Q29uc3RhbnRzLkZPTlRfU1RBQ0tfTUFQW1xuICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbk1hcFtcImZvbnRGYW1pbHlcIl1cbiAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9udEZhbWlseSA9IFwic2Fucy1zZXJpZlwiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHguZm9udCA9IGZvbnRTaXplICsgXCJweCBcIiArIGZvbnRGYW1pbHk7XG5cbiAgICAgICAgICAgIGlmIChhbm5vdGF0aW9uTWFwW1wiY29sb3JcIl0pIHtcbiAgICAgICAgICAgICAgbGV0IGZpbGxDb2xvciA9IGNvbG9yRnJvbUludChhbm5vdGF0aW9uTWFwW1wiY29sb3JcIl0sIFwiMTAwXCIpO1xuICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZmlsbENvbG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3R4LmZpbGxUZXh0KHRleHQudG9TdHJpbmcoKSwgdGV4dFgsIHRleHRZKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHRvcEN0eC5yZXN0b3JlKCk7XG4gICAgICBib3R0b21DdHgucmVzdG9yZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgZHJhd0Fubm90YXRpb25zRnJvbU5pY2VDWChjeXRvc2NhcGVJbnN0YW5jZSwgbmljZUNYKSB7XG4gICAgY29uc3QgYW5ub3RhdGlvbkVsZW1lbnRzID0gdGhpcy5nZXRBbm5vdGF0aW9uRWxlbWVudHNGcm9tTmljZUNYKG5pY2VDWCk7XG4gICAgdGhpcy5kcmF3QW5ub3RhdGlvbnNGcm9tQW5ub3RhdGlvbkVsZW1lbnRzKGN5dG9zY2FwZUluc3RhbmNlLCBhbm5vdGF0aW9uRWxlbWVudHMpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0geyBDeFRvQ3lDYW52YXMgfTtcbiJdLCJzb3VyY2VSb290IjoiIn0=